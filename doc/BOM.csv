info badge

@qty 25
SAMD21E 256KB Flash 32pin 7x7, $2.70, ATSAMD21E18A-AUTDKR-ND, https://www.digikey.com/product-detail/en/microchip-technology/ATSAMD21E18A-AUT/ATSAMD21E18A-AUTDKR-ND/4878895
SAMD21G 256KB Flash 64pin 10x10, $2.99, ATSAMD21J18A-AUTCT-ND, https://www.digikey.com/product-detail/en/microchip-technology/ATSAMD21J18A-AUT/ATSAMD21J18A-AUTCT-ND/4878875
SAML21E 256KB Flash 32pin 7x7, $4.06, ATSAML21E18B-AUTCT-ND, https://www.digikey.com/product-detail/en/microchip-technology/ATSAML21E18B-AUT/ATSAML21E18B-AUTCT-ND/5702302
SAML21E 256KB Flash 32pin 5x5, $3.98, ATSAML21E18B-MUTCT-ND, https://www.digikey.com/product-detail/en/microchip-technology/ATSAML21E18B-MUT/ATSAML21E18B-MUTCT-ND/5702303
SAM21LG 256KB 7x7 $4.18@25 https://www.digikey.com/product-detail/en/microchip-technology/ATSAML21G18B-AUT/ATSAML21G18B-AUTCT-ND/5702308
  0.9 uA with RTC


32 pins --> 25 i/o
48 pins --> 37 i/o
64 pins --> 50 i/o

https://www.digikey.com/product-detail/en/microchip-technology/ATSAML22J17A-AUT/ATSAML22J17A-AUTCT-ND/5799498

  cap touch [11 pins]
reverse mount RGB led [3 pins], $0.95 https://www.digikey.com/product-detail/en/sunled/XZMDKCBDDG45S-9/1497-1257-1-ND/5169746
3.3V regulator $0.39 https://www.digikey.com/product-detail/en/microchip-technology/MCP1810T-33I-J8A/MCP1810T-33I-J8ADKR-ND/6235186
battery charger [1 pin charged]
  6uA quiescent current, 3V UVLO, $1.93
  https://www.digikey.com/product-detail/en/texas-instruments/BQ24074RGTR/296-38873-1-ND/5142985
UVP? https://www.digikey.com/product-detail/en/texas-instruments/BQ29700DSER/296-43985-6-ND/5973221
  if so, use lower cost battery charger?
micro usb port/usb-c [1 pin plugged in, 3 data]
[speaker/buzzer] [1 pin I2S/PWM]
# audio jack [2 pins L/R analog] https://www.digikey.com/product-detail/en/cui-devices/SJ-43514-SMT-TR/CP-43514SJCT-ND/669734
  70 mA at 1.8V is 1/8 Watt --> 30 minute battery, there just isn't enough power to sustain an audio connection for a reasonable time period - focus on info only, no maintained services
lipo dime cell, LIR2032, 4.2V max
accel/[magn] [2 i2c, 1 interrupt] IIS2DLPC
* $2.48@25 0.38 uA (1 uA @ 12 ODR), 1.8V 1.6Hz, https://www.digikey.com/product-detail/en/stmicroelectronics/IIS2DLPCTR/497-18226-1-ND/9648689
  $2.48@25 3.7 uA 1 Hz, https://www.digikey.com/product-detail/en/stmicroelectronics/LSM303AGRTR/497-16527-1-ND/6006105
  $1.39@25 2 uA at 1 Hz, https://www.digikey.com/product-detail/en/stmicroelectronics/LIS3DHTR/497-10613-1-ND/2334355
ePaper header [6 i/o] 
ePaper screen $7.52
  https://www.waveshare.com/product/1.54inch-e-Paper-Module.htm
caps
resistors
[SOA header] [2 i/o]
memory [X] 0.3 Mb/minute (5 kB/sec aka 40) mp3 https://github.com/adafruit/Adafruit_MP3 --> 32 MB >60 minutes (or run on USB power)
  32 MB $3.44, 1.8V 2uA sleep, https://www.digikey.com/product-detail/en/micron-technology-inc/MT25QU256ABA1EW9-0SIT-TR/557-1825-6-ND/9674011
  4 GB $7.76, 3.3V https://www.digikey.com/product-detail/en/micron-technology-inc/MT29F32G08CBADBWP-12IT-D-TR/557-1865-1-ND/9673846
  256 MB $3.00, 3.3V https://www.digikey.com/product-detail/en/micron-technology-inc/MT29F2G08ABAGAWP-IT-G-TR/557-1668-1-ND/6207207
  128 MB para $2.46, 3.3V https://www.digikey.com/product-detail/en/micron-technology-inc/MT29F1G08ABAEAWP-IT-E-TR/557-1658-1-ND/6207198
  128 MB SPI $2.28, 3.3V 10uA sleep https://www.digikey.com/product-detail/en/winbond-electronics/W25N01GVZEIG-TR/W25N01GVZEIGCT-ND/7393545
  128 MB SPI $2.93, 1.8V 90uA sleep https://www.digikey.com/product-detail/en/gigadevice-semiconductor-hk-limited/GD5F1GQ4RF9IGR/1970-1080-1-ND/9484829
  64 MB SPI $4.69, 3.3V 5uA sleep https://www.digikey.com/product-detail/en/micron-technology-inc/MT25QL512ABB8ESF-0SIT/557-1651-ND/6036286
  32 MB 3.3V $1.05/tray 2uA sleep, 10 mA read at 5 MHz https://www.digikey.com/product-detail/en/cypress-semiconductor-corp/S25FL256LDPNFI010/2015-S25FL256LDPNFI010-ND/9955092
  32 MB 3.3V $1.43 70uA standby https://www.digikey.com/product-detail/en/cypress-semiconductor-corp/S25FL256SDSMFV013/2015-S25FL256SDSMFV013CT-ND/9954617
  32 MB 1.8V $3.05 2uA sleep, 8 mA read https://www.digikey.com/product-detail/en/micron-technology-inc/MT25QU256ABA1EW9-0SIT-TR/557-1825-6-ND/9674011
  8 MB 3.3V $1.09 hackaday 2018 5uA sleep, 12mA read https://www.digikey.com/product-detail/en/adesto-technologies/AT25DF081A-SSH-T/1265-1166-1-ND/5168672

reset button
fm radio

current comsumption
RTC + EIC
interrupt on USB plug-in, accelerometer event + [touch]

SPI to screen, I2C to accel/magn, SAO [I2C], USB
analog read brightness
I2S audio https://www.digikey.com/product-detail/en/cui-devices/CMS-18138A-SP/102-4339-ND/7404547?utm_campaign=buynow&=aggregator&WT.z_cid=ref_findchips_standard&utm_source=findchips

perhaps 2x LDO, needs shutdown pin [1 pin]
samdD max around 7 mA (?), but screen draws 8 mA for 2 sec
min voltage for epaper refresh?
max charge 1C, max discharge 2C
90 mA*3.3V = 300 mW

eInk displays
2 different vendors with very similar schematics, note digikey is 154 x 154 px, NOT 200 x 200 px
https://www.waveshare.com/w/upload/5/5b/1.54inch_e-Paper_Schematic.pdf
https://www.pervasivedisplays.com/wp-content/uploads/2019/06/1P200-00_01_E2154CS091_24PINFPC_20180807-1.pdf
https://www.waveshare.com/wiki/1.54inch_e-Paper_Module
https://www.digikey.com/product-detail/en/pervasive-displays/E2154CS091/E2154CS091-ND/9636013

--

consider aggressive low power strategies
STM32L412xx
  <1 uA modes
  https://www.digikey.com/product-detail/en/stmicroelectronics/STM32L412KBU6/497-18230-ND/9656220
  RTC
  128KB flash
  $3.17

SAML21 0.9uA with RTC and SRAM [rtc, usb
  https://www.arrow.com/en/research-and-events/articles/atmel-the-worlds-lowest-power-cortex-m0-microcontroller
  $3.05 128 KB, 48 pins / 37 I/O, 1.7-3.6 V
  https://www.digikey.com/product-detail/en/microchip-technology/ATSAML21G17B-AUT/ATSAML21G17B-AUTCT-ND/5702306
  Arduino IDE https://www.youtube.com/watch?v=sB4lZ2zG5V8
  wake on touch

note: lipo discharge at 5%/month (54% by end of year)
  Need 365*24 hours, 8,760 hours, with 45,000 uAh lipo cell --> 5.1 uA static draw
  1 uA for accel, 12.5 ODR
  alt accel (iffy data sheet) https://ae-bst.resource.bosch.com/media/_tech/media/datasheets/BST-BMA400-DS000.pdf

6 mA for 2 sec vs 5 uA for 24 hours --> 12 mAs vs 432 mAs
36 screen refreshes is one day off of lifetime

consider omitting external memory to conserve power/realistate/complexity

TPS783xx LDO 0.5uA Iq
  http://www.ti.com/lit/ds/symlink/tps783.pdf
  Iq def'n: http://www.ti.com/lit/an/slyt412/slyt412.pdf

1.8 V $0.39
  https://www.digikey.com/product-detail/en/microchip-technology/MCP1810T-18I-J8A/MCP1810T-18I-J8ACT-ND/6235176

3.3V output, 50 nA Iq $0.39 [use enable line to set to 1 nA when NOT doing screen refresh]
  https://www.digikey.com/product-detail/en/microchip-technology/MCP1810T-18I-J8A/MCP1810T-18I-J8ACT-ND/6235176

BGA $3.97 0.7uA Iq
  https://www.digikey.com/product-detail/en/texas-instruments/BQ25121AYFPT/296-49478-1-ND/9360696

$7.80
  https://www.digikey.com/product-detail/en/maxim-integrated/MAX20303BEWN-T/MAX20303BEWN-TCT-ND/9991734
  appears to suck in everything, including small uProcessor

*$2.98 includes LDO 1.8V + reconfigurable LDO BQ25150
  https://www.digikey.com/product-detail/en/texas-instruments/BQ25150YFPT/296-53418-1-ND/9953063
  layout info: http://www.ti.com/lit/ml/mxbg090k/mxbg090k.pdf
    $102.80 EVM: https://www.digikey.com/products/en?mpart=BQ25150EVM&v=296

$2.81  BQ25155YFPT
  https://www.digikey.com/product-detail/en/texas-instruments/BQ25155YFPT/296-BQ25155YFPTCT-ND/10435202

consider BQ25120 to gain access to LSCTRL switch (tie to accel)


-- 12/17/19

wavShare uses TXS0108EPWR, 1.41 @qty25
use 2 3.3V logic for blue/green LED.  use 1 1.8V logic for red LED
  https://www.digikey.com/product-detail/en/sunled/XZMDKCBDDG45S-9/1497-1257-1-ND/5169746
VCC: PWR -> ePaper and uProcessor
GND: PWR -> ePaper and uProcessor
DIN: uProcessor -> ePaper SPI MOSI
CLK: uProcessor -> ePaper
CS: uProcessor -> ePaper [active low]
DC: uProcessor -> ePaper
RST: uProcessor -> ePaper
BUSY: ePaper -> uProcessor

case ideas:
angled aluminum and rubber [aqua blue, silver, black] https://ae01.alicdn.com/kf/HTB1el7vf5CYBuNkHFCcq6AHtVXax/ZEEKER-New-RFID-Men-Credit-Card-Wallet-Cool-Slim-Metal-Business-Card-Case.jpg_q50.jpg
wavy shape https://ae01.alicdn.com/kf/HTB1OTZqqy0TMKJjSZFNq6y_1FXaB/Klsyanyo-2pcs-lot-Adhesive-Sticker-Back-Cover-Card-Holder-Small-Bus-Card-Case-Pouch-for-Cell.jpg
wood https://i.pinimg.com/originals/5f/f8/35/5ff835c523804908eea467963bbf4e1e.jpg
rotate hinge https://i.pinimg.com/originals/5a/10/9d/5a109d277b5315a1e9f0f787501fe2d5.jpg
use string and joining agent and lanyard, also black back with blue front metal https://cdn.shopify.com/s/files/1/1066/9566/products/blue_grande.jpg?v=1556835254
logo on rubber https://cdn.improb.com/wp-content/uploads/2018/02/ROCO-Minimalist-Aluminum-Slim-Wallet.png
screw stack https://rebatekey.com/files/images/a/c/a/c/6/acac6.jpg
diffration grating finish https://cdn.shopify.com/s/files/1/0028/4832/5747/products/1_16f1b87d-8dc9-4522-b8f8-f8bd9730f319_2048x.jpg?v=1566602540
rubber cross-hatch, rubber as accent https://everydaycarry.com/posts/32988/dango-blue-line-tactical-wallets
screws get loose https://www.youtube.com/watch?v=q2d4OfrIvpQ
overlapping different shapes of aluminum https://cdn.thecoolist.com/wp-content/uploads/2017/01/A3-Aluminum-Wallet-e1485126466168.jpg
wood in aluminum https://ksr-ugc.imgix.net/assets/025/168/251/883e2a6595028808a3a010fe4a646839_original.jpg?ixlib=rb-2.1.0&w=680&fit=max&v=1558050943&auto=format&gif-q=50&q=92&s=dc82a6fae4eee4281b5e896e7b001178
  https://store.fantomwallet.com/build-your-fantom-r-wallet/
  carbon fiber https://cdn11.bigcommerce.com/s-l83a5g4cge/images/stencil/2048x2048/attribute_rule_images/576_source_1573259302.jpg

low power magn $2.60 IIS2MDC
  https://www.digikey.com/product-detail/en/stmicroelectronics/IIS2MDCTR/497-17728-1-ND/7927710
  25 uA at 10 Hz
  3.85 uA at 1 Hz: [25-1.5]/[10/1 Hz ODR]+1.5

hall effect $0.55 at qty25
  https://www.digikey.com/product-detail/en/silicon-labs/SI7210-B-04-IV/336-4056-ND/7323035
  0.4 uA at 5 Hz

magnetoressitaive $1.65 XYZ  LIS2MDLTR
  https://www.digikey.com/product-detail/en/stmicroelectronics/LIS2MDLTR/497-17588-1-ND/7565512
  why so much cheaper?

ePaper header (best guess) $1.76@25
  https://www.digikey.com/product-detail/en/omron-electronics-inc-emc-div/XF2M-2415-1A/OR721DKR-ND/1859165

use led as light sensor
  https://wiki.analog.com/university/courses/electronics/electronics-lab-led-sensor
  https://www.sparkfun.com/news/2161
  would probably be better off using capacitive pads as near field tx/rx

-- 1/6/19

zero-peak is single-ended
lowest cost peak-peaker buzzer is:
https://www.digikey.com/product-detail/en/cui-devices/CPT-1203-78-SMT-TR/102-CPT-1203-78-SMT-CT-ND/10326273
$1.10@25

resonance at 2.7khz speaker buzzer
https://www.digikey.com/product-detail/en/pui-audio-inc/SMT-0927-S-13-R/668-1623-1-ND/8979478
$1.83@25

magnetic ball bearing 3/64"
https://www.mcmaster.com/9529K58
two ball bearings in same chamber ensure no rotation, $0.05@100

cylinder magnet 60 mil diameter $0.64@25
https://www.mcmaster.com/standard-magnets

- 1/16/20

PyGamer
GD25Q64
https://cdn-learn.adafruit.com/assets/assets/000/076/005/original/adafruit_products_PyGamer_Sch_p1.png?1558716704
https://www.digikey.com/product-detail/en/gigadevice-semiconductor-hk-limited/GD25Q64CSIGR/1970-1026-1-ND/9484776
$1.04@25
3.3V
(quad SPI)
13 mA@80 MHz

-- 2/8/20

Schottkey diodes
TVS diodes
$0.59@25
https://www.digikey.com/product-detail/en/texas-instruments/TPD4S012DRYR/296-24244-1-ND/2037535

microUSB (ref Pendant, but out of stock)
$0.37@25
https://www.digikey.com/product-detail/en/amphenol-icc-fci/10118194-0001LF/609-4618-1-ND/2785382

(1V8 8MB memory https://www.digikey.com/product-detail/en/adesto-technologies/AT25SL641-MHE-T/1265-1282-1-ND/6827530

(3V3 https://www.digikey.com/product-detail/en/adesto-technologies/AT25SF641-MHB-T/1265-1339-1-ND/9449488

SOIC $0.97@25 AT25QF641-SUB-T 
https://www.digikey.com/product-detail/en/adesto-technologies/AT25QF641-SUB-T/1265-1337-1-ND/9449486

8 ohm, 1 Watt, 2018 Hackaday speaker $2.18@25
https://www.digikey.com/product-detail/en/cui-devices/CMS-18138A-SP/102-4339-ND/7404547
https://hackaday.io/project/161859-2018-hackaday-superconference-badge

32 ohms $1.83@25
https://www.digikey.com/product-detail/en/pui-audio-inc/SMT-0927-S-13-R/668-1623-1-ND/8979478

Table 46-11
max IO low @3V3, DRVSTR=1, 12 mA
high 10 mA

audio amp, 1 Watt, $1.20@10
https://www.digikey.com/product-detail/en/texas-instruments/LM4890MX-NOPB/296-47333-1-ND/7688343

0.07 A * 3.3V = 230 mW

speaker $1.37@25
SP-1511S-6
85 dB at 200 mW
https://www.digikey.com/product-detail/en/soberton-inc/SP-1511S-6/433-1211-ND/8600808

reset button
$0.13@25
https://www.digikey.com/product-detail/en/e-switch/TL3315NF100Q/EG4620CT-ND/1870400

